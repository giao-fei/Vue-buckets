
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>vue.js跑马灯效果</title>
<script src="Vue包/vue-2.4.0.js"></script>
</head>
<style>
    [v-cloak] {
	     display:none;
	}
</style>
<body>
<div id="app">
   <p v-cloak>{{ msg }}</p>
   <input type="button" value="开始滚动" @click="roll">
   <input type="button" value="停止" @click="stop">
	
</div>
<script>
	var vm = new Vue({
        el:'#app',
		data: {
		        msg:' Hello World ',
			    intervalId:null //定义定时器ID
		},
		methods:{
		    roll(){
		        if(this.intervalId!=null) return;
		        this.intervalId=setInterval(()=>{
			    // 获取到头的第一个字符
		        var start=this.msg.substring(0,1)//substring(起始位置，要拿的字符个数)
				// 获取到 后面的所有字符
		        var end=this.msg.substring(1)
				// 重新拼接的到新的字符串，并赋值给 this.msg
		        this.msg=end+start
			
		         },500); 
		    },
		    stop(){
			        clearInterval(this.intervalId);//这里清空只是把intervalId暂停，intervalId还有值
				    // 每当清除了定时器之后，需要重新把 intervalId 置为 null
		            this.intervalId=null;		 
		}
	}
		
		
		
 });
</script>
</body>
</html>
